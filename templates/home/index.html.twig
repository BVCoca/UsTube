{% extends 'base.html.twig' %}

{% block title %}Accueil | UsTube
{% endblock %}

{% block body %}
	<main>
		<div class="allVideos">

			{% for video in videos %}
				<div class="card cardHover" onclick="window.location='{{path('app_single_video', {'id': video.id})}}'" style="cursor: pointer; width: 20%;" tabindex="1">

					<div class="cardHover">
						<img class="card-img-top" src="{{ asset('uploads/videos/pictures/' ~ video.image) }}" alt="Card image cap">
					</div>

					<div class="card-body d-flex">
						<div class="imgAvatarVideo">
							<a href="{{path('app_profil', {'id': video.user.id})}}">
								{% if video.user.avatar == null %}
									<img src="{{ asset('assets/images/profil.png')}}" alt="Avatar de l'utilisateur qui a posté la vidéo" class="avatarVideo">
								{% else %}
									<img src="{{ asset('uploads/pictures/' ~ video.user.avatar) }}" alt="Avatar de l'utilisateur qui a posté la vidéo" class="avatarVideo">
								{% endif %}
							</a>
						</div>
						<div class="contentCardVideo">
							<h5 class="card-title">{{video.title}}</h5>
							<a href="{{path('app_profil', {'id': video.user.id})}}" class="pseudoLink">
								<p class="card-text">{{video.user.pseudo}}</p>
							</a>
							<p class="card-text date" id="date-{{video.id}}">{{video.createdAt|date('d/m/Y H:i')}}</p>
						</div>
					</div>
				</div>
			{% endfor %}

		</div>
	</main>
{% endblock %}
